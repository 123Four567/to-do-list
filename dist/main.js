(()=>{"use strict";class e{constructor(e){this.name=e,this.taskList=[]}addTask(e){this.taskList.push(e)}getTasks(){return this.taskList}}class t{constructor(e,t,n){this.name=e,this.date=t,this.description=n}getName(){return this.name}getDate(){return this.date}getDescription(){return this.description}}const n=function(e,t){return e.find((e=>e.name==t))},s=function(e){const n=document.querySelector(".task-form"),s=document.querySelector("#input-task-name").value,c=document.querySelector("#input-task-date").value,r=document.querySelector("#input-task-description").value,d=new t(s,c,r);n.reset(),e.addTask(d)},c=function(t){const n=document.querySelector(".project-form"),s=document.querySelector("#input-project-name").value,c=new e(s);n.reset(),t.push(c)},r=function(){let e=0;return{renderTasks:function(t){const n=document.querySelector(".task-view");n.innerHTML="";let s=t.getTasks();const c=document.createElement("h2");c.textContent="Tasks",n.appendChild(c),s.forEach((t=>{const s=document.createElement("div");s.classList.add("task-container"),s.dataset.id=e;const c=document.createElement("div");c.classList.add("show-task-name"),c.textContent=t.name,s.appendChild(c);const r=document.createElement("div");r.classList.add("show-task-date"),r.textContent=t.date,s.appendChild(r);const d=document.createElement("div");r.classList.add("show-task-description"),d.textContent=t.description,s.appendChild(d);const o=document.createElement("button");o.classList.add("delete-task"),o.textContent="Delete",s.appendChild(o),e+=1,n.appendChild(s)})),e=0;const r=document.createElement("button");r.classList.add("new-task"),r.textContent="Create new task",n.appendChild(r),r.addEventListener("click",(()=>{const e=document.querySelector(".task-hidden");e.classList.remove("task-hidden"),e.setAttribute("id","task-form-view")}))},renderProjects:function(e){const t=document.querySelector(".project-nav");t.innerHTML="",e.forEach((e=>{const n=document.createElement("li");n.textContent=e.name,t.appendChild(n)}))}}}();!function(){let t=[new e("default")],d="default";const o=document.querySelector(".submit-task");function a(e){const t=document.querySelectorAll(".delete-task");Array.from(t).forEach((t=>{t.addEventListener("click",(t=>{e.getTasks().splice(t.target.parentElement.dataset.id,1),r.renderTasks(e),a(e)}))}))}document.querySelector(".new-task").addEventListener("click",(()=>{const e=document.querySelector(".task-hidden");e.setAttribute("id","task-form-view"),e.classList.remove("task-hidden")})),o.addEventListener("click",(e=>{e.preventDefault();const c=document.getElementById("task-form-view");c.classList.add("task-hidden"),c.removeAttribute("id"),document.querySelector(".new-task").addEventListener("click",(()=>{const e=document.querySelector(".task-hidden");e.setAttribute("id","task-form-view"),e.classList.remove("task-hidden")})),s(n(t,d)),r.renderTasks(n(t,d)),a(n(t,d))}));const i=document.querySelector(".submit-project");document.querySelector(".new-project").addEventListener("click",(()=>{const e=document.querySelector(".project-hidden");e.setAttribute("id","project-form-view"),e.classList.remove("project-hidden")})),i.addEventListener("click",(e=>{e.preventDefault(),c(t),r.renderProjects(t);const s=document.getElementById("project-form-view");s.classList.add("project-hidden"),s.removeAttribute("id"),document.querySelector(".new-project").addEventListener("click",(()=>{const e=document.querySelector(".project-hidden");e.setAttribute("id","project-form-view"),e.classList.remove("project-hidden")}));const o=document.querySelectorAll("li");Array.from(o).forEach((e=>{e.addEventListener("click",(e=>{d=e.target.textContent,r.renderTasks(n(t,d))}))}))}))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBT2hDLFNBQVNDLGNBQWMsbUJBQ3BDK0IsRUFBS0UsYUFBYSxLQUFLLHFCQUN2QkYsRUFBS1YsVUFBVVcsT0FBTyxxQkFHeEJvQixFQUFjdEIsaUJBQWlCLFNBQVVlLElBQ3hDQSxFQUFFSSxpQkFFRnhELEVBQXdCYSxHQUN4QkcsRUFBV3lCLGVBQWU1QixHQUUxQixNQUFNeUIsRUFBT2hDLFNBQVNtRCxlQUFlLHFCQUNyQ25CLEVBQUtWLFVBQVVDLElBQUksa0JBQ25CUyxFQUFLb0IsZ0JBQWdCLE1BRUZwRCxTQUFTQyxjQUFjLGdCQUMvQjhCLGlCQUFpQixTQUFTLEtBQ3BDLE1BQU1DLEVBQU9oQyxTQUFTQyxjQUFjLG1CQUNwQytCLEVBQUtFLGFBQWEsS0FBSyxxQkFDdkJGLEVBQUtWLFVBQVVXLE9BQU8scUJBSXZCLE1BQU1xQixFQUFjdEQsU0FBUzBDLGlCQUFpQixNQUU5Q0MsTUFBTUMsS0FBS1UsR0FBYWxDLFNBQVN0QixJQUNoQ0EsRUFBUWlDLGlCQUFpQixTQUFVZSxJQUNsQ1IsRUFBaUJRLEVBQUVFLE9BQU85QixZQUMxQlIsRUFBV0UsWUFBWWxCLEVBQXFCYSxFQUFZK0IsYUFNNURpQixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9sb2dpYy5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBQcm9qZWN0IHtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWUpe1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lXG4gICAgICAgIHRoaXMudGFza0xpc3QgPSBbXVxuICAgIH1cblxuICAgIGFkZFRhc2sodGFzayl7XG4gICAgICAgIHRoaXMudGFza0xpc3QucHVzaCh0YXNrKVxuICAgIH1cblxuICAgIGdldFRhc2tzKCl7XG4gICAgICAgIHJldHVybiB0aGlzLnRhc2tMaXN0XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGFzayB7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lLGRhdGUsZGVzY3JpcHRpb24pe1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lXG4gICAgICAgIHRoaXMuZGF0ZSA9IGRhdGVcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uXG4gICAgfVxuXG4gICAgZ2V0TmFtZSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lXG4gICAgfVxuICAgIGdldERhdGUoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZVxuICAgIH1cbiAgICBnZXREZXNjcmlwdGlvbigpe1xuICAgICAgICByZXR1cm4gdGhpcy5kZXNjcmlwdGlvblxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IG1haW5Mb2dpYyA9IChmdW5jdGlvbigpe1xuXG4gICAgZnVuY3Rpb24gZ2V0UHJvamVjdChhcnJheSxuYW1lKXtcbiAgICAgICAgcmV0dXJuIGFycmF5LmZpbmQoIGVsZW0gPT4gZWxlbS5uYW1lID09IG5hbWUpXG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIHN1Ym1pdFRhc2socHJvamVjdCl7XG4gICAgICAgIGNvbnN0IHRhc2tGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWZvcm1cIilcbiAgICAgICAgY29uc3QgaW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnB1dC10YXNrLW5hbWVcIikudmFsdWVcbiAgICAgICAgY29uc3QgaW5wdXREYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnB1dC10YXNrLWRhdGVcIikudmFsdWVcbiAgICAgICAgY29uc3QgaW5wdXREZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQtdGFzay1kZXNjcmlwdGlvblwiKS52YWx1ZVxuXG4gICAgICAgIGNvbnN0IHRhc2sgPSBuZXcgVGFzayhpbnB1dE5hbWUsaW5wdXREYXRlLGlucHV0RGVzY3JpcHRpb24pXG4gICAgICAgIHRhc2tGb3JtLnJlc2V0KClcblxuICAgICAgICBwcm9qZWN0LmFkZFRhc2sodGFzaylcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlbGV0ZVRhc2socHJvamVjdCl7XG5cbiAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGVsZXRlLXRhc2tcIilcbiAgICAgICAgQXJyYXkuZnJvbShkZWxldGVCdXR0b25zKS5mb3JFYWNoKCBidXR0b24gPT4ge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHByb2plY3QuZ2V0VGFza3MoKS5zcGxpY2UoZS50YXJnZXQucGFyZW50RWxlbWVudC5kYXRhc2V0LmlkLDEpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN1Ym1pdFByb2plY3QoYWxsUHJvamVjdHMpe1xuICAgICAgICBjb25zdCBwcm9qZWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1mb3JtXCIpXG4gICAgICAgIGNvbnN0IGlucHV0UHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0LXByb2plY3QtbmFtZVwiKS52YWx1ZVxuXG4gICAgICAgIGNvbnN0IHByb2plY3QgPSBuZXcgUHJvamVjdChpbnB1dFByb2plY3ROYW1lKVxuICAgICAgICBwcm9qZWN0Rm9ybS5yZXNldCgpXG5cbiAgICAgICAgYWxsUHJvamVjdHMucHVzaChwcm9qZWN0KVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGdldFByb2plY3QsXG4gICAgICAgIHN1Ym1pdFRhc2ssXG4gICAgICAgIGRlbGV0ZVRhc2ssXG4gICAgICAgIHN1Ym1pdFByb2plY3RcbiAgICB9XG5cbn0pKCkiLCJpbXBvcnQgbWFpbkxvZ2ljIGZyb20gJy4vbG9naWMuanMnXG5cbmV4cG9ydCBjb25zdCBkb21NYW5hZ2VyID0gKGZ1bmN0aW9uKCl7XG5cbiAgICBsZXQgaW5kZXggPSAwXG4gICAgXG4gICAgZnVuY3Rpb24gcmVuZGVyVGFza3MocHJvamVjdCl7XG4gICAgICAgIGNvbnN0IHRhc2tWaWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLXZpZXdcIilcbiAgICAgICAgdGFza1ZpZXcuaW5uZXJIVE1MID0gXCJcIlxuXG4gICAgICAgIGxldCB0YXNrcyA9IHByb2plY3QuZ2V0VGFza3MoKVxuXG4gICAgICAgIGNvbnN0IHRhc2tUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKVxuICAgICAgICB0YXNrVGl0bGUudGV4dENvbnRlbnQgPSBcIlRhc2tzXCJcbiAgICAgICAgdGFza1ZpZXcuYXBwZW5kQ2hpbGQodGFza1RpdGxlKVxuXG4gICAgICAgIHRhc2tzLmZvckVhY2goIHRhc2sgPT4ge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCB0YXNrQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgICAgICAgICAgdGFza0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwidGFzay1jb250YWluZXJcIilcbiAgICAgICAgICAgIHRhc2tDb250YWluZXIuZGF0YXNldC5pZCA9IGluZGV4XG5cbiAgICAgICAgICAgIGNvbnN0IHRhc2tOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgICAgICAgICAgdGFza05hbWUuY2xhc3NMaXN0LmFkZChcInNob3ctdGFzay1uYW1lXCIpXG4gICAgICAgICAgICB0YXNrTmFtZS50ZXh0Q29udGVudCA9IHRhc2submFtZVxuICAgICAgICAgICAgdGFza0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0YXNrTmFtZSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgdGFza0RhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICAgICAgICB0YXNrRGF0ZS5jbGFzc0xpc3QuYWRkKFwic2hvdy10YXNrLWRhdGVcIilcbiAgICAgICAgICAgIHRhc2tEYXRlLnRleHRDb250ZW50ID0gdGFzay5kYXRlXG4gICAgICAgICAgICB0YXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKHRhc2tEYXRlKVxuXG4gICAgICAgICAgICBjb25zdCB0YXNrRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICAgICAgICB0YXNrRGF0ZS5jbGFzc0xpc3QuYWRkKFwic2hvdy10YXNrLWRlc2NyaXB0aW9uXCIpXG4gICAgICAgICAgICB0YXNrRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB0YXNrLmRlc2NyaXB0aW9uXG4gICAgICAgICAgICB0YXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKHRhc2tEZXNjcmlwdGlvbilcblxuICAgICAgICAgICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxuICAgICAgICAgICAgZGVsZXRlQnRuLmNsYXNzTGlzdC5hZGQoXCJkZWxldGUtdGFza1wiKVxuICAgICAgICAgICAgZGVsZXRlQnRuLnRleHRDb250ZW50ID0gXCJEZWxldGVcIlxuICAgICAgICAgICAgdGFza0NvbnRhaW5lci5hcHBlbmRDaGlsZChkZWxldGVCdG4pXG5cbiAgICAgICAgICAgIGluZGV4ICs9IDFcbiAgICAgICAgICAgIHRhc2tWaWV3LmFwcGVuZENoaWxkKHRhc2tDb250YWluZXIpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGluZGV4ID0gMFxuXG4gICAgICAgIGNvbnN0IHRhc2tCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpXG4gICAgICAgIHRhc2tCdXR0b24uY2xhc3NMaXN0LmFkZChcIm5ldy10YXNrXCIpXG4gICAgICAgIHRhc2tCdXR0b24udGV4dENvbnRlbnQgPSBcIkNyZWF0ZSBuZXcgdGFza1wiXG4gICAgICAgIHRhc2tWaWV3LmFwcGVuZENoaWxkKHRhc2tCdXR0b24pXG5cbiAgICAgICAgLyogQWRkIGxpc3RlbmVycyBmb3IgdGhlIGFkZFRhc2sgYnV0dG9uIGFuZCBhbGwgdGhlIGRlbGV0ZVRhc2sgYnV0dG9ucyAqL1xuICAgICAgICB0YXNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWhpZGRlblwiKVxuICAgICAgICAgICAgZm9ybS5jbGFzc0xpc3QucmVtb3ZlKFwidGFzay1oaWRkZW5cIilcbiAgICAgICAgICAgIGZvcm0uc2V0QXR0cmlidXRlKFwiaWRcIixcInRhc2stZm9ybS12aWV3XCIpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVuZGVyUHJvamVjdHMoYWxsUHJvamVjdHMpe1xuICAgICAgICBjb25zdCBwcm9qZWN0RE9NID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LW5hdlwiKVxuXG4gICAgICAgIHByb2plY3RET00uaW5uZXJIVE1MID0gXCJcIlxuXG4gICAgICAgIGFsbFByb2plY3RzLmZvckVhY2goIHByb2plY3QgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIilcbiAgICAgICAgICAgIGxpLnRleHRDb250ZW50ID0gcHJvamVjdC5uYW1lXG5cbiAgICAgICAgICAgIHByb2plY3RET00uYXBwZW5kQ2hpbGQobGkpXG4gICAgICAgIH0pXG5cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXJUYXNrcyxcbiAgICAgICAgcmVuZGVyUHJvamVjdHNcbiAgICB9XG5cbn0pKCkiLCJpbXBvcnQgeyBtYWluTG9naWMsUHJvamVjdCB9IGZyb20gJy4vbG9naWMuanMnXG5pbXBvcnQgeyBkb21NYW5hZ2VyIH0gZnJvbSAnLi9kb20uanMnXG5cbmZ1bmN0aW9uIGluaXQoKXtcblx0Y29uc3QgZGVmYXVsdFByb2plY3QgPSBuZXcgUHJvamVjdChcImRlZmF1bHRcIilcblx0bGV0IGFsbFByb2plY3RzID0gW2RlZmF1bHRQcm9qZWN0XVxuXHRcblx0bGV0IGN1cnJlbnRQcm9qZWN0ID0gXCJkZWZhdWx0XCJcblx0XG5cdGNvbnN0IHN1Ym1pdFRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdC10YXNrXCIpXG5cblx0Y29uc3QgYWRkVGFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3LXRhc2tcIilcblx0XHRhZGRUYXNrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG5cdFx0XHRjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWhpZGRlblwiKVxuXHRcdFx0Zm9ybS5zZXRBdHRyaWJ1dGUoXCJpZFwiLFwidGFzay1mb3JtLXZpZXdcIilcblx0XHRcdGZvcm0uY2xhc3NMaXN0LnJlbW92ZShcInRhc2staGlkZGVuXCIpXG5cdFx0fSlcblxuXHRzdWJtaXRUYXNrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKVxuXG5cdFx0Y29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFzay1mb3JtLXZpZXdcIilcblx0XHRmb3JtLmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWhpZGRlblwiKVxuXHRcdGZvcm0ucmVtb3ZlQXR0cmlidXRlKFwiaWRcIilcblxuXHRcdGNvbnN0IGFkZFRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ldy10YXNrXCIpXG5cdFx0YWRkVGFzay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuXHRcdFx0Y29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1oaWRkZW5cIilcblx0XHRcdGZvcm0uc2V0QXR0cmlidXRlKFwiaWRcIixcInRhc2stZm9ybS12aWV3XCIpXG5cdFx0XHRmb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJ0YXNrLWhpZGRlblwiKVxuXHRcdH0pXG5cblx0XHRtYWluTG9naWMuc3VibWl0VGFzayhtYWluTG9naWMuZ2V0UHJvamVjdChhbGxQcm9qZWN0cyxjdXJyZW50UHJvamVjdCkpXG5cdFx0ZG9tTWFuYWdlci5yZW5kZXJUYXNrcyhtYWluTG9naWMuZ2V0UHJvamVjdChhbGxQcm9qZWN0cyxjdXJyZW50UHJvamVjdCkpXG5cblx0XHRkZWxldGVGdW5jKG1haW5Mb2dpYy5nZXRQcm9qZWN0KGFsbFByb2plY3RzLGN1cnJlbnRQcm9qZWN0KSlcblxuXHR9KVxuXG5cdGZ1bmN0aW9uIGRlbGV0ZUZ1bmMocHJvamVjdCl7XG5cdFx0Y29uc3QgZGVsZXRlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGVsZXRlLXRhc2tcIilcblx0XHRBcnJheS5mcm9tKGRlbGV0ZUJ1dHRvbnMpLmZvckVhY2goIGJ1dHRvbiA9PiB7XG5cdFx0XHRidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG5cdFx0XHRcdHByb2plY3QuZ2V0VGFza3MoKS5zcGxpY2UoZS50YXJnZXQucGFyZW50RWxlbWVudC5kYXRhc2V0LmlkLDEpXG5cdFx0XHRcdGRvbU1hbmFnZXIucmVuZGVyVGFza3MocHJvamVjdClcblx0XHRcdFx0ZGVsZXRlRnVuYyhwcm9qZWN0KVxuXHRcdFx0fSlcblx0XHR9KVxuXHR9XG5cdFxuXHRcblxuXHRjb25zdCBzdWJtaXRQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtaXQtcHJvamVjdFwiKVxuXHRcblxuXHRjb25zdCBhZGRQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXctcHJvamVjdFwiKVxuXHRcdGFkZFByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcblx0XHRcdGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtaGlkZGVuXCIpXG5cdFx0XHRmb3JtLnNldEF0dHJpYnV0ZShcImlkXCIsXCJwcm9qZWN0LWZvcm0tdmlld1wiKVxuXHRcdFx0Zm9ybS5jbGFzc0xpc3QucmVtb3ZlKFwicHJvamVjdC1oaWRkZW5cIilcblx0XHR9KVxuXG5cdHN1Ym1pdFByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpXG5cblx0XHRtYWluTG9naWMuc3VibWl0UHJvamVjdChhbGxQcm9qZWN0cylcblx0XHRkb21NYW5hZ2VyLnJlbmRlclByb2plY3RzKGFsbFByb2plY3RzKVxuXG5cdFx0Y29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdC1mb3JtLXZpZXdcIilcblx0XHRmb3JtLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LWhpZGRlblwiKVxuXHRcdGZvcm0ucmVtb3ZlQXR0cmlidXRlKFwiaWRcIilcblxuXHRcdGNvbnN0IGFkZFByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ldy1wcm9qZWN0XCIpXG5cdFx0YWRkUHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuXHRcdFx0Y29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1oaWRkZW5cIilcblx0XHRcdGZvcm0uc2V0QXR0cmlidXRlKFwiaWRcIixcInByb2plY3QtZm9ybS12aWV3XCIpXG5cdFx0XHRmb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJwcm9qZWN0LWhpZGRlblwiKVxuXHRcdH0pXG5cblxuXHRcdGNvbnN0IHByb2plY3RMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImxpXCIpXG5cblx0XHRBcnJheS5mcm9tKHByb2plY3RMaXN0KS5mb3JFYWNoKCBwcm9qZWN0ID0+IHtcblx0XHRcdHByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG5cdFx0XHRcdGN1cnJlbnRQcm9qZWN0ID0gZS50YXJnZXQudGV4dENvbnRlbnRcblx0XHRcdFx0ZG9tTWFuYWdlci5yZW5kZXJUYXNrcyhtYWluTG9naWMuZ2V0UHJvamVjdChhbGxQcm9qZWN0cyxjdXJyZW50UHJvamVjdCkpXG5cdFx0XHR9KVxuXHRcdH0pXG5cdH0pXG59XG5cbmluaXQoKSJdLCJuYW1lcyI6WyJQcm9qZWN0IiwiY29uc3RydWN0b3IiLCJuYW1lIiwidGhpcyIsInRhc2tMaXN0IiwiYWRkVGFzayIsInRhc2siLCJwdXNoIiwiZ2V0VGFza3MiLCJUYXNrIiwiZGF0ZSIsImRlc2NyaXB0aW9uIiwiZ2V0TmFtZSIsImdldERhdGUiLCJnZXREZXNjcmlwdGlvbiIsIm1haW5Mb2dpYyIsImFycmF5IiwiZmluZCIsImVsZW0iLCJwcm9qZWN0IiwidGFza0Zvcm0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpbnB1dE5hbWUiLCJ2YWx1ZSIsImlucHV0RGF0ZSIsImlucHV0RGVzY3JpcHRpb24iLCJyZXNldCIsImFsbFByb2plY3RzIiwicHJvamVjdEZvcm0iLCJpbnB1dFByb2plY3ROYW1lIiwiZG9tTWFuYWdlciIsImluZGV4IiwicmVuZGVyVGFza3MiLCJ0YXNrVmlldyIsImlubmVySFRNTCIsInRhc2tzIiwidGFza1RpdGxlIiwiY3JlYXRlRWxlbWVudCIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJmb3JFYWNoIiwidGFza0NvbnRhaW5lciIsImNsYXNzTGlzdCIsImFkZCIsImRhdGFzZXQiLCJpZCIsInRhc2tOYW1lIiwidGFza0RhdGUiLCJ0YXNrRGVzY3JpcHRpb24iLCJkZWxldGVCdG4iLCJ0YXNrQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImZvcm0iLCJyZW1vdmUiLCJzZXRBdHRyaWJ1dGUiLCJyZW5kZXJQcm9qZWN0cyIsInByb2plY3RET00iLCJsaSIsImN1cnJlbnRQcm9qZWN0Iiwic3VibWl0VGFzayIsImRlbGV0ZUZ1bmMiLCJkZWxldGVCdXR0b25zIiwicXVlcnlTZWxlY3RvckFsbCIsIkFycmF5IiwiZnJvbSIsImJ1dHRvbiIsImUiLCJzcGxpY2UiLCJ0YXJnZXQiLCJwYXJlbnRFbGVtZW50IiwicHJldmVudERlZmF1bHQiLCJnZXRFbGVtZW50QnlJZCIsInJlbW92ZUF0dHJpYnV0ZSIsInN1Ym1pdFByb2plY3QiLCJwcm9qZWN0TGlzdCIsImluaXQiXSwic291cmNlUm9vdCI6IiJ9